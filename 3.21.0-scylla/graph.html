

<!DOCTYPE html>
<html class="no-js" lang="en" style="visibility: hidden;">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             DataStax Graph Queries | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />
        <link rel="icon" href="_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="_static/img/favicon-228x228.png" />

        
            
            
        

        
            
            <link rel="canonical" href="https://python-driver.docs.scylladb.com/stable/graph.html"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>

        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css">
        <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        
        
        
            
                <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/css/main.css?v=e3ce25dc" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/sphinx_collapse.css?v=226d88b4" />
            
        
            
                <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
            
        
    
        
        
            
        <script type="text/javascript" src="_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="_static/js/main.bundle.js"></script>
        
            
                <script src="_static/documentation_options.js?v=be4f90db"></script>
            
        
            
                <script src="_static/doctools.js?v=9bcbadda"></script>
            
        
            
                <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
            
        
            
                <script src="_static/clipboard.min.js?v=a7894cd8"></script>
            
        
            
                <script src="_static/copybutton.js?v=f281be69"></script>
            
        
    
            
                <!-- Local meta tags -->
            
            
                <!-- Google Tag Manager docs -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-54NWVS4");
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager global -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
            
        
    </head>

    <body class="brand-product">
        <section class="promo-banner  promo-banner--hide" style="display: none;">
    <div class="promo-banner-wrapper">
        
        <div class="promo-banner__title">ScyllaDB University Live | Free Virtual Training Event</div>
        <a class="promo-banner__button button button--reverse" href="#"
           target="_blank" rel="noopener noreferrer">Learn more</a>
        <button class="promo-banner__close">
            <i class="icon-cancel"></i>
        </button>
    </div>
</section>
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="_static/img/scylladb-logo-horizontal.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Deployments <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">
                            <i class="icon-docs-cloud"></i>Cloud</a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/">
                            <i class="icon-server"></i>Server</a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="icon-docs-manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="icon-docs-monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="icon-docs-operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/manual/stable/using-scylla/drivers/cql-drivers/">
                            <i class="icon-docs-nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/stable/using-scylla/drivers/dynamo-drivers/">
                            <i class="icon-docs-alternator"></i>DynamoDB Drivers
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Resources
                    <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://university.scylladb.com">
                            <i class="icon-university"></i>
                            ScyllaDB University
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.scylladb.com">
                            <i class="icon-docs-community"></i>
                            Community Forum
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html">
                            <i class="icon-docs-training"></i>
                            Tutorials
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://docs.scylladb.com/manual/stable/getting-started/installation-common/scylla-web-installer.html" class="button"><i class="icon-download me-2"></i> Install</a>
        </div>
    </div>
    <div class="header-search-box">
        <i class="dark-theme-toggler icon-theme"></i>
        <div class="search-box">
            <ci-search></ci-search>
        </div>
        
            <biel-button class="header-ask-ai" project="ddfdo8m94k" 
                header-title="ScyllaDB chatbot (beta)"
                button-position="default"
                modal-position="bottom-right"
                button-style="dark">
                Ask AI
            </biel-button>
        
    </div>
    <div class="side-nav-toggle">
    <i class="dark-theme-toggler icon-theme"></i>
    <div class="side-nav-toggle__button" data-toggle="side-nav">
        <i class="icon-menu"></i>
    </div>
</div>
</header>
        <div class="title"></div>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
           class="bread__highlight">
            <i class="icon-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="index.html"
           class="bread__highlight">
            Scylla Python Driver
        </a>
    </span>
    
    <span class="bread__item bread__item--last">DataStax Graph Queries</span>
</div>
                    </div>
                
                
                <div class="sidebar-right-layout">
                    <div class="body-container">
                

                    <div class="content-body">
                        
                            
    <div class="admonition caution">
        <p class="admonition-title">Caution</p>
        <p>
            
                You're viewing documentation for a deprecated version of Scylla Python Driver.
            
            <a href="../stable/index.html">Switch to the latest stable version.</a>
        </p>
    </div>

                        
                        
                        <section id="datastax-graph-queries">
<h1>DataStax Graph Queries<a class="headerlink" href="#datastax-graph-queries" title="Link to this heading">¶</a></h1>
<p>The Cassandra driver executes graph queries over the Cassandra native protocol. Use
<a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.Session.execute_graph" title="cassandra.cluster.Session.execute_graph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute_graph()</span></code></a> or <a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.Session.execute_graph_async" title="cassandra.cluster.Session.execute_graph_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute_graph_async()</span></code></a> for
executing gremlin queries in DSE Graph.</p>
<p>Three Execution Profiles are provided suitable for graph execution:</p>
<ul class="simple">
<li><p><a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.EXEC_PROFILE_GRAPH_DEFAULT" title="cassandra.cluster.EXEC_PROFILE_GRAPH_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">EXEC_PROFILE_GRAPH_DEFAULT</span></code></a></p></li>
<li><p><a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT" title="cassandra.cluster.EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span></code></a></p></li>
<li><p><a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.EXEC_PROFILE_GRAPH_ANALYTICS_DEFAULT" title="cassandra.cluster.EXEC_PROFILE_GRAPH_ANALYTICS_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">EXEC_PROFILE_GRAPH_ANALYTICS_DEFAULT</span></code></a></p></li>
</ul>
<p>See <a class="reference internal" href="getting_started.html"><span class="doc">Getting Started</span></a> and <a class="reference internal" href="execution_profiles.html"><span class="doc">Execution Profiles</span></a>
for more detail on working with profiles.</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>First, we need to create a graph in the system. To access the system API, we
use the system execution profile</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cluster</span><span class="p">,</span> <span class="n">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span>

<span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">()</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">graph_name</span> <span class="o">=</span> <span class="s1">&#39;movies&#39;</span>
<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;system.graph(name).ifNotExists().create()&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">graph_name</span><span class="p">},</span>
                      <span class="n">execution_profile</span><span class="o">=</span><span class="n">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span><span class="p">)</span>
</pre></div>
</div>
<p>To execute requests on our newly created graph, we need to setup an execution
profile. Additionally, we also need to set the schema_mode to <cite>development</cite>
for the schema creation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cluster</span><span class="p">,</span> <span class="n">GraphExecutionProfile</span><span class="p">,</span> <span class="n">EXEC_PROFILE_GRAPH_DEFAULT</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.datastax.graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">GraphOptions</span>

<span class="n">graph_name</span> <span class="o">=</span> <span class="s1">&#39;movies&#39;</span>
<span class="n">ep</span> <span class="o">=</span> <span class="n">GraphExecutionProfile</span><span class="p">(</span><span class="n">graph_options</span><span class="o">=</span><span class="n">GraphOptions</span><span class="p">(</span><span class="n">graph_name</span><span class="o">=</span><span class="n">graph_name</span><span class="p">))</span>

<span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="n">execution_profiles</span><span class="o">=</span><span class="p">{</span><span class="n">EXEC_PROFILE_GRAPH_DEFAULT</span><span class="p">:</span> <span class="n">ep</span><span class="p">})</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;schema.config().option(&#39;graph.schema_mode&#39;).set(&#39;development&#39;)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We are ready to configure our graph schema. We will create a simple one for movies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># properties are used to define a vertex</span>
<span class="n">properties</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">schema.propertyKey(&quot;genreId&quot;).Text().create();</span>
<span class="s2">schema.propertyKey(&quot;personId&quot;).Text().create();</span>
<span class="s2">schema.propertyKey(&quot;movieId&quot;).Text().create();</span>
<span class="s2">schema.propertyKey(&quot;name&quot;).Text().create();</span>
<span class="s2">schema.propertyKey(&quot;title&quot;).Text().create();</span>
<span class="s2">schema.propertyKey(&quot;year&quot;).Int().create();</span>
<span class="s2">schema.propertyKey(&quot;country&quot;).Text().create();</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>  <span class="c1"># we can execute multiple statements in a single request</span>

<span class="c1"># A Vertex represents a &quot;thing&quot; in the world.</span>
<span class="n">vertices</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">schema.vertexLabel(&quot;genre&quot;).properties(&quot;genreId&quot;,&quot;name&quot;).create();</span>
<span class="s2">schema.vertexLabel(&quot;person&quot;).properties(&quot;personId&quot;,&quot;name&quot;).create();</span>
<span class="s2">schema.vertexLabel(&quot;movie&quot;).properties(&quot;movieId&quot;,&quot;title&quot;,&quot;year&quot;,&quot;country&quot;).create();</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>

<span class="c1"># An edge represents a relationship between two vertices</span>
<span class="n">edges</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">schema.edgeLabel(&quot;belongsTo&quot;).single().connection(&quot;movie&quot;,&quot;genre&quot;).create();</span>
<span class="s2">schema.edgeLabel(&quot;actor&quot;).connection(&quot;movie&quot;,&quot;person&quot;).create();</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>

<span class="c1"># Indexes to execute graph requests efficiently</span>
<span class="n">indexes</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">schema.vertexLabel(&quot;genre&quot;).index(&quot;genresById&quot;).materialized().by(&quot;genreId&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;genre&quot;).index(&quot;genresByName&quot;).materialized().by(&quot;name&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;person&quot;).index(&quot;personsById&quot;).materialized().by(&quot;personId&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;person&quot;).index(&quot;personsByName&quot;).materialized().by(&quot;name&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;movie&quot;).index(&quot;moviesById&quot;).materialized().by(&quot;movieId&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;movie&quot;).index(&quot;moviesByTitle&quot;).materialized().by(&quot;title&quot;).add();</span>
<span class="s2">schema.vertexLabel(&quot;movie&quot;).index(&quot;moviesByYear&quot;).secondary().by(&quot;year&quot;).add();</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Next, we’ll add some data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">g.addV(&#39;genre&#39;).property(&#39;genreId&#39;, 1).property(&#39;name&#39;, &#39;Action&#39;).next();</span>
<span class="s2">g.addV(&#39;genre&#39;).property(&#39;genreId&#39;, 2).property(&#39;name&#39;, &#39;Drama&#39;).next();</span>
<span class="s2">g.addV(&#39;genre&#39;).property(&#39;genreId&#39;, 3).property(&#39;name&#39;, &#39;Comedy&#39;).next();</span>
<span class="s2">g.addV(&#39;genre&#39;).property(&#39;genreId&#39;, 4).property(&#39;name&#39;, &#39;Horror&#39;).next();</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">g.addV(&#39;person&#39;).property(&#39;personId&#39;, 1).property(&#39;name&#39;, &#39;Mark Wahlberg&#39;).next();</span>
<span class="s2">g.addV(&#39;person&#39;).property(&#39;personId&#39;, 2).property(&#39;name&#39;, &#39;Leonardo DiCaprio&#39;).next();</span>
<span class="s2">g.addV(&#39;person&#39;).property(&#39;personId&#39;, 3).property(&#39;name&#39;, &#39;Iggy Pop&#39;).next();</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">g.addV(&#39;movie&#39;).property(&#39;movieId&#39;, 1).property(&#39;title&#39;, &#39;The Happening&#39;).</span>
<span class="s2">    property(&#39;year&#39;, 2008).property(&#39;country&#39;, &#39;United States&#39;).next();</span>
<span class="s2">g.addV(&#39;movie&#39;).property(&#39;movieId&#39;, 2).property(&#39;title&#39;, &#39;The Italian Job&#39;).</span>
<span class="s2">    property(&#39;year&#39;, 2003).property(&#39;country&#39;, &#39;United States&#39;).next();</span>

<span class="s2">g.addV(&#39;movie&#39;).property(&#39;movieId&#39;, 3).property(&#39;title&#39;, &#39;Revolutionary Road&#39;).</span>
<span class="s2">    property(&#39;year&#39;, 2008).property(&#39;country&#39;, &#39;United States&#39;).next();</span>
<span class="s2">g.addV(&#39;movie&#39;).property(&#39;movieId&#39;, 4).property(&#39;title&#39;, &#39;The Man in the Iron Mask&#39;).</span>
<span class="s2">    property(&#39;year&#39;, 1998).property(&#39;country&#39;, &#39;United States&#39;).next();</span>

<span class="s2">g.addV(&#39;movie&#39;).property(&#39;movieId&#39;, 5).property(&#39;title&#39;, &#39;Dead Man&#39;).</span>
<span class="s2">    property(&#39;year&#39;, 1995).property(&#39;country&#39;, &#39;United States&#39;).next();</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now that our genre, actor and movie vertices are added, we’ll create the relationships (edges) between them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">genre_horror = g.V().hasLabel(&#39;genre&#39;).has(&#39;name&#39;, &#39;Horror&#39;).next();</span>
<span class="s2">genre_drama = g.V().hasLabel(&#39;genre&#39;).has(&#39;name&#39;, &#39;Drama&#39;).next();</span>
<span class="s2">genre_action = g.V().hasLabel(&#39;genre&#39;).has(&#39;name&#39;, &#39;Action&#39;).next();</span>

<span class="s2">leo  = g.V().hasLabel(&#39;person&#39;).has(&#39;name&#39;, &#39;Leonardo DiCaprio&#39;).next();</span>
<span class="s2">mark = g.V().hasLabel(&#39;person&#39;).has(&#39;name&#39;, &#39;Mark Wahlberg&#39;).next();</span>
<span class="s2">iggy = g.V().hasLabel(&#39;person&#39;).has(&#39;name&#39;, &#39;Iggy Pop&#39;).next();</span>

<span class="s2">the_happening = g.V().hasLabel(&#39;movie&#39;).has(&#39;title&#39;, &#39;The Happening&#39;).next();</span>
<span class="s2">the_italian_job = g.V().hasLabel(&#39;movie&#39;).has(&#39;title&#39;, &#39;The Italian Job&#39;).next();</span>
<span class="s2">rev_road = g.V().hasLabel(&#39;movie&#39;).has(&#39;title&#39;, &#39;Revolutionary Road&#39;).next();</span>
<span class="s2">man_mask = g.V().hasLabel(&#39;movie&#39;).has(&#39;title&#39;, &#39;The Man in the Iron Mask&#39;).next();</span>
<span class="s2">dead_man = g.V().hasLabel(&#39;movie&#39;).has(&#39;title&#39;, &#39;Dead Man&#39;).next();</span>

<span class="s2">the_happening.addEdge(&#39;belongsTo&#39;, genre_horror);</span>
<span class="s2">the_italian_job.addEdge(&#39;belongsTo&#39;, genre_action);</span>
<span class="s2">rev_road.addEdge(&#39;belongsTo&#39;, genre_drama);</span>
<span class="s2">man_mask.addEdge(&#39;belongsTo&#39;, genre_drama);</span>
<span class="s2">man_mask.addEdge(&#39;belongsTo&#39;, genre_action);</span>
<span class="s2">dead_man.addEdge(&#39;belongsTo&#39;, genre_drama);</span>

<span class="s2">the_happening.addEdge(&#39;actor&#39;, mark);</span>
<span class="s2">the_italian_job.addEdge(&#39;actor&#39;, mark);</span>
<span class="s2">rev_road.addEdge(&#39;actor&#39;, leo);</span>
<span class="s2">man_mask.addEdge(&#39;actor&#39;, leo);</span>
<span class="s2">dead_man.addEdge(&#39;actor&#39;, iggy);</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We are all set. You can now query your graph. Here are some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find all movies of the genre Drama</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  g.V().has(&#39;genre&#39;, &#39;name&#39;, &#39;Drama&#39;).in(&#39;belongsTo&#39;).valueMap();&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="c1"># Find all movies of the same genre than the movie &#39;Dead Man&#39;</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  g.V().has(&#39;movie&#39;, &#39;title&#39;, &#39;Dead Man&#39;).out(&#39;belongsTo&#39;).in(&#39;belongsTo&#39;).valueMap();&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="c1"># Find all movies of Mark Wahlberg</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  g.V().has(&#39;person&#39;, &#39;name&#39;, &#39;Mark Wahlberg&#39;).in(&#39;actor&#39;).valueMap();&quot;&quot;&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>To see a more graph examples, see <a class="reference external" href="https://github.com/datastax/graph-examples/">DataStax Graph Examples</a>.</p>
</section>
<section id="graph-types">
<span id="id1"></span><h2>Graph Types<a class="headerlink" href="#graph-types" title="Link to this heading">¶</a></h2>
<p>Here are the supported graph types with their python representations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DSE Graph</p></th>
<th class="head"><p>Python</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>boolean</p></td>
<td><p>bool</p></td>
</tr>
<tr class="row-odd"><td><p>bigint</p></td>
<td><p>long, int (PY3)</p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-odd"><td><p>smallint</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-even"><td><p>varint</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p>double</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-odd"><td><p>uuid</p></td>
<td><p>uuid.UUID</p></td>
</tr>
<tr class="row-even"><td><p>Decimal</p></td>
<td><p>Decimal</p></td>
</tr>
<tr class="row-odd"><td><p>inet</p></td>
<td><p>str</p></td>
</tr>
<tr class="row-even"><td><p>timestamp</p></td>
<td><p>datetime.datetime</p></td>
</tr>
<tr class="row-odd"><td><p>date</p></td>
<td><p>datetime.date</p></td>
</tr>
<tr class="row-even"><td><p>time</p></td>
<td><p>datetime.time</p></td>
</tr>
<tr class="row-odd"><td><p>duration</p></td>
<td><p>datetime.timedelta</p></td>
</tr>
<tr class="row-even"><td><p>point</p></td>
<td><p>Point</p></td>
</tr>
<tr class="row-odd"><td><p>linestring</p></td>
<td><p>LineString</p></td>
</tr>
<tr class="row-even"><td><p>polygon</p></td>
<td><p>Polygon</p></td>
</tr>
<tr class="row-odd"><td><p>blob</p></td>
<td><p>bytearray, buffer (PY2), memoryview (PY3), bytes (PY3)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="graph-row-factory">
<h2>Graph Row Factory<a class="headerlink" href="#graph-row-factory" title="Link to this heading">¶</a></h2>
<p>By default (with <code class="xref py py-class docutils literal notranslate"><span class="pre">GraphExecutionProfile.row_factory</span></code> set to <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.graph_object_row_factory" title="cassandra.datastax.graph.graph_object_row_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">datastax.graph.graph_object_row_factory()</span></code></a>), known graph result
types are unpacked and returned as specialized types (<a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Vertex" title="cassandra.datastax.graph.Vertex"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vertex</span></code></a>, <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Edge" title="cassandra.datastax.graph.Edge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Edge</span></code></a>). If the result is not one of these
types, a <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Result" title="cassandra.datastax.graph.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">datastax.graph.Result</span></code></a> is returned, containing the graph result parsed from JSON and removed from its outer dict.
The class has some accessor convenience methods for accessing top-level properties by name (<cite>type</cite>, <cite>properties</cite> above),
or lists by index:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># dicts with `__getattr__` or `__getitem__`</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;[[key_str: &#39;value&#39;, key_int: 3]]&quot;</span><span class="p">,</span> <span class="n">execution_profile</span><span class="o">=</span><span class="n">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Using system exec just because there is no graph defined</span>
<span class="n">result</span>  <span class="c1"># cassandra.datastax.graph.Result({u&#39;key_str&#39;: u&#39;value&#39;, u&#39;key_int&#39;: 3})</span>
<span class="n">result</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># {u&#39;key_int&#39;: 3, u&#39;key_str&#39;: u&#39;value&#39;} (dict)</span>
<span class="n">result</span><span class="o">.</span><span class="n">key_str</span>  <span class="c1"># u&#39;value&#39;</span>
<span class="n">result</span><span class="o">.</span><span class="n">key_int</span>  <span class="c1"># 3</span>
<span class="n">result</span><span class="p">[</span><span class="s1">&#39;key_str&#39;</span><span class="p">]</span>  <span class="c1"># u&#39;value&#39;</span>
<span class="n">result</span><span class="p">[</span><span class="s1">&#39;key_int&#39;</span><span class="p">]</span>  <span class="c1"># 3</span>

<span class="c1"># lists with `__getitem__`</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s1">&#39;[[0, 1, 2]]&#39;</span><span class="p">,</span> <span class="n">execution_profile</span><span class="o">=</span><span class="n">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">result</span>  <span class="c1"># cassandra.datastax.graph.Result([0, 1, 2])</span>
<span class="n">result</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># [0, 1, 2] (list)</span>
<span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># 1 (list[1])</span>
</pre></div>
</div>
<p>You can use a different row factory by setting <a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.ExecutionProfile.row_factory" title="cassandra.cluster.ExecutionProfile.row_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cluster.ExecutionProfile.row_factory</span></code></a> or passing it to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">cluster.Session.execute_graph()</span></code>. For example, <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.single_object_row_factory" title="cassandra.datastax.graph.single_object_row_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">datastax.graph.single_object_row_factory()</span></code></a> returns the JSON result string,
unparsed. <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.graph_result_row_factory" title="cassandra.datastax.graph.graph_result_row_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">datastax.graph.graph_result_row_factory()</span></code></a> returns parsed, but unmodified results (such that all metadata is retained,
unlike <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.graph_object_row_factory" title="cassandra.datastax.graph.graph_object_row_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">datastax.graph.graph_object_row_factory()</span></code></a>, which sheds some as attributes and properties are unpacked). These results
also provide convenience methods for converting to known types (<a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Result.as_vertex" title="cassandra.datastax.graph.Result.as_vertex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datastax.graph.Result.as_vertex()</span></code></a>, <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Result.as_edge" title="cassandra.datastax.graph.Result.as_edge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datastax.graph.Result.as_edge()</span></code></a>,</p>
<blockquote>
<div><p><a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.Result.as_path" title="cassandra.datastax.graph.Result.as_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datastax.graph.Result.as_path()</span></code></a>).</p>
</div></blockquote>
<p>Vertex and Edge properties are never unpacked since their types are unknown. If you know your graph schema and want to
deserialize properties, use the <a class="reference internal" href="api/cassandra/datastax/graph/index.html#cassandra.datastax.graph.GraphSON1Deserializer" title="cassandra.datastax.graph.GraphSON1Deserializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">datastax.graph.GraphSON1Deserializer</span></code></a>. It provides convenient methods to deserialize by types (e.g.
deserialize_date, deserialize_uuid, deserialize_polygon etc.) Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.datastax.graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">GraphSON1Deserializer</span>

<span class="n">row</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;g.V().toList()&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;my_property_key&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># accessing the VertexProperty value</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">GraphSON1Deserializer</span><span class="o">.</span><span class="n">deserialize_timestamp</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="nb">print</span> <span class="n">value</span>  <span class="c1"># 2017-06-26 08:27:05</span>
<span class="nb">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># &lt;type &#39;datetime.datetime&#39;&gt;</span>
</pre></div>
</div>
</section>
<section id="named-parameters">
<h2>Named Parameters<a class="headerlink" href="#named-parameters" title="Link to this heading">¶</a></h2>
<p>Named parameters are passed in a dict to <a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.Session.execute_graph" title="cassandra.cluster.Session.execute_graph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cluster.Session.execute_graph()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result_set</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s1">&#39;[a, b]&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="n">execution_profile</span><span class="o">=</span><span class="n">EXEC_PROFILE_GRAPH_SYSTEM_DEFAULT</span><span class="p">)</span>
<span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result_set</span><span class="p">]</span>  <span class="c1"># [1, 2]</span>
</pre></div>
</div>
<p>All python types listed in <a class="reference internal" href="#id1">Graph Types</a> can be passed as named parameters and will be serialized
automatically to their graph representation:</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  g.addV(&#39;person&#39;).</span>
<span class="s2">  property(&#39;name&#39;, text_value).</span>
<span class="s2">  property(&#39;age&#39;, integer_value).</span>
<span class="s2">  property(&#39;birthday&#39;, timestamp_value).</span>
<span class="s2">  property(&#39;house_yard&#39;, polygon_value).toList()</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="s1">&#39;text_value&#39;</span><span class="p">:</span> <span class="s1">&#39;Mike Smith&#39;</span><span class="p">,</span>
  <span class="s1">&#39;integer_value&#39;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span>
  <span class="s1">&#39;timestamp_value&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1967</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
  <span class="s1">&#39;polygon_value&#39;</span><span class="p">:</span> <span class="n">Polygon</span><span class="p">(((</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>
<span class="p">})</span>
</pre></div>
</div>
<p>As with all Execution Profile parameters, graph options can be set in the cluster default (as shown in the first example)
or specified per execution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execution_profile_clone_update</span><span class="p">(</span><span class="n">EXEC_PROFILE_GRAPH_DEFAULT</span><span class="p">,</span>
                                            <span class="n">graph_options</span><span class="o">=</span><span class="n">GraphOptions</span><span class="p">(</span><span class="n">graph_name</span><span class="o">=</span><span class="s1">&#39;something-else&#39;</span><span class="p">))</span>
<span class="n">session</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="n">execution_profile</span><span class="o">=</span><span class="n">ep</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="using-graphson2-protocol">
<h2>Using GraphSON2 Protocol<a class="headerlink" href="#using-graphson2-protocol" title="Link to this heading">¶</a></h2>
<p>The default graph protocol used is GraphSON1. However GraphSON1 may
cause problems of type conversion happening during the serialization
of the query to the DSE Graph server, or the deserialization of the
responses back from a string Gremlin query. GraphSON2 offers better
support for the complex data types handled by DSE Graph.</p>
<p>DSE &gt;=5.0.4 now offers the possibility to use the GraphSON2 protocol
for graph queries. Enabling GraphSON2 can be done by <cite>changing the
graph protocol of the execution profile</cite> and <cite>setting the graphson2 row factory</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cluster</span><span class="p">,</span> <span class="n">GraphExecutionProfile</span><span class="p">,</span> <span class="n">EXEC_PROFILE_GRAPH_DEFAULT</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cassandra.datastax.graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">GraphOptions</span><span class="p">,</span> <span class="n">GraphProtocol</span><span class="p">,</span> <span class="n">graph_graphson2_row_factory</span>

<span class="c1"># Create a GraphSON2 execution profile</span>
<span class="n">ep</span> <span class="o">=</span> <span class="n">GraphExecutionProfile</span><span class="p">(</span><span class="n">graph_options</span><span class="o">=</span><span class="n">GraphOptions</span><span class="p">(</span><span class="n">graph_name</span><span class="o">=</span><span class="s1">&#39;types&#39;</span><span class="p">,</span>
                                                      <span class="n">graph_protocol</span><span class="o">=</span><span class="n">GraphProtocol</span><span class="o">.</span><span class="n">GRAPHSON_2_0</span><span class="p">),</span>
                           <span class="n">row_factory</span><span class="o">=</span><span class="n">graph_graphson2_row_factory</span><span class="p">)</span>

<span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="n">execution_profiles</span><span class="o">=</span><span class="p">{</span><span class="n">EXEC_PROFILE_GRAPH_DEFAULT</span><span class="p">:</span> <span class="n">ep</span><span class="p">})</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">execute_graph</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Using GraphSON2, all properties will be automatically deserialized to
its Python representation. Note that it may bring significant
behavioral change at runtime.</p>
<p>It is generally recommended to switch to GraphSON2 as it brings more
consistent support for complex data types in the Graph driver and will
be activated by default in the next major version (Python dse-driver
driver 3.0).</p>
</section>
</section>

                    </div>
                    
                        <div class="post-content">
                            
    <div class="feedback-container">
        <p class="feedback-container__title">Was this page helpful?</p>
        <span data-tooltip tabindex="1" title="Yes" data-position="top">
            <button class="feedback-container__button" id="feedback-positive">
                <i class="feedback-container__icon icon-docs-thumbs-up"></i>
            </button>
        </span>
        <span data-tooltip tabindex="1" title="No" data-position="top">
            <button class="feedback-container__button" id="feedback-negative">
                <i class="feedback-container__icon icon-docs-thumbs-down"></i>
            </button>
        </span>
        <div class="feedback-container__message" id="feedback-message"></div>
    </div>

    <script>
        function resetFeedbackButtonActive() {
            const feedbackButtons = document.getElementsByClassName('feedback-container__button');
            for (let i = 0; i < feedbackButtons.length; i++) {
                feedbackButtons[i].classList.remove('active');
            }
        }

        function showMessage(liked) {
            const feedbackMessage = document.getElementById('feedback-message');
            const themeGithubRepository = true;
            let message = 'Great! Thanks for your feedback.';
            if (themeGithubRepository && !liked) {
                message = "Thanks for your feedback! Please don't hesitate to <a href='https://github.com/scylladb/python-driver/issues/new?title=docs:%20Issue on page DataStax Graph Queries&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://python-driver.docs.scylladb.com/3.21.0-scylla/graph%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation'>create an issue</a> if you have any suggestions on how we can improve.";
            }
            feedbackMessage.innerHTML = message;
        }

        function sendGaEvent(liked) {
            const event_label = liked ? "positive" : "negative";
            const event = "feedback_" + event_label;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': event,
            });
        }

        const positiveFeebackButton = document.getElementById('feedback-positive');
        const negativeFeedbackButton = document.getElementById('feedback-negative');

        positiveFeebackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(true);
            showMessage(true);
            positiveFeebackButton.classList.add('active');
        });

        negativeFeedbackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(false);
            showMessage(false);
            negativeFeedbackButton.classList.add('active');
        });
    </script>

                            <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="geo_types.html">
                <button class="navigation__button">
                    <i class="icon-chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />DSE Geometry Types
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="graph_fluent.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />DataStax Graph Fluent API
                </div>
                <button class="navigation__button">
                    <i class="icon-chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                            <div class="notice">
<p>
ScyllaDB Python Driver is available under the <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache v2 License</a>.
ScyllaDB Python Driver is a fork of <a href="https://github.com/datastax/python-driver">DataStax Python Driver</a>.
See Copyright <a href="https://python-driver.docs.scylladb.com/stable/#copyright">here</a>.</p>
</div>
                        </div>
                    
                
                
                    </div>
                        <div class="sidebar-right large-order-3">
                            <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a class="button button-sm" href="https://github.com/scylladb/python-driver/issues/new?title=docs:%20Issue on page DataStax Graph Queries&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://python-driver.docs.scylladb.com/3.21.0-scylla/graph%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
               target="_blank">
                <i class="icon-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a class="button button-sm" href="https://github.com/scylladb/python-driver/edit/master/docs/graph.rst"
                   target="_blank">
                    <i class="icon-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
        <div class="secondary-side-nav__content">
            <p class="topic-title">On this page</p>
            <ul>
<li><a class="reference internal" href="#">DataStax Graph Queries</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#graph-types">Graph Types</a></li>
<li><a class="reference internal" href="#graph-row-factory">Graph Row Factory</a></li>
<li><a class="reference internal" href="#named-parameters">Named Parameters</a></li>
<li><a class="reference internal" href="#using-graphson2-protocol">Using GraphSON2 Protocol</a></li>
</ul>
</li>
</ul>

        </div>
    
</div>
                        </div>
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="icon-docs-menu-collapse"></i>
    </button>
    <div class="side-nav-content custom-scroll-bar">
        <div class="side-nav__title">
            <a href="index.html">Scylla Python Driver</a>
        </div>
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                3.21.0
            
            <i class="chevron icon-docs-chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
            
            
                
                    <li>
                        <a href="../stable/index.html">
                            3.28.2
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.28.1-scylla/index.html">
                            3.28.1
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.28.0-scylla/index.html">
                            3.28.0
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.26.9-scylla/graph.html">
                            3.26.9
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.25.11-scylla/graph.html">
                            3.25.11
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.25.4-scylla/graph.html">
                            3.25.4
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.24.8-scylla/graph.html">
                            3.24.8
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="../3.22.3-scylla/graph.html">
                            3.22.3
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="graph.html">
                            3.21.0
                        </a>
                    </li>
                
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cassandra</span></code> - Exceptions and Enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cluster.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cluster</span></code> - Clusters and Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/policies.html"><code class="docutils literal notranslate"><span class="pre">cassandra.policies</span></code> - Load balancing and Failure Handling Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/auth.html"><code class="docutils literal notranslate"><span class="pre">cassandra.auth</span></code> - Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/graph.html"><code class="docutils literal notranslate"><span class="pre">cassandra.graph</span></code> - Graph Statements, Options, and Row Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/metadata.html"><code class="docutils literal notranslate"><span class="pre">cassandra.metadata</span></code> - Schema and Ring Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/metrics.html"><code class="docutils literal notranslate"><span class="pre">cassandra.metrics</span></code> - Performance Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/query.html"><code class="docutils literal notranslate"><span class="pre">cassandra.query</span></code> - Prepared Statements, Batch Statements, Tracing, and Row Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/pool.html"><code class="docutils literal notranslate"><span class="pre">cassandra.pool</span></code> - Hosts and Connection Pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/protocol.html"><code class="docutils literal notranslate"><span class="pre">cassandra.protocol</span></code> - Protocol Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/encoder.html"><code class="docutils literal notranslate"><span class="pre">cassandra.encoder</span></code> - Encoders for non-prepared Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/decoder.html"><code class="docutils literal notranslate"><span class="pre">cassandra.decoder</span></code> - Data Return Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/concurrent.html"><code class="docutils literal notranslate"><span class="pre">cassandra.concurrent</span></code> - Utilities for Concurrent Statement Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/connection.html"><code class="docutils literal notranslate"><span class="pre">cassandra.connection</span></code> - Low Level Connection Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/util.html"><code class="docutils literal notranslate"><span class="pre">cassandra.util</span></code> - Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/timestamps.html"><code class="docutils literal notranslate"><span class="pre">cassandra.timestamps</span></code> - Timestamp Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/asyncioreactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.asyncioreactor</span></code> - <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> Event Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/asyncorereactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.asyncorereactor</span></code> - <code class="docutils literal notranslate"><span class="pre">asyncore</span></code> Event Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/eventletreactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.eventletreactor</span></code> - <code class="docutils literal notranslate"><span class="pre">eventlet</span></code>-compatible Connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/libevreactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.libevreactor</span></code> - <code class="docutils literal notranslate"><span class="pre">libev</span></code> Event Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/geventreactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.geventreactor</span></code> - <code class="docutils literal notranslate"><span class="pre">gevent</span></code>-compatible Event Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/io/twistedreactor.html"><code class="docutils literal notranslate"><span class="pre">cassandra.io.twistedreactor</span></code> - Twisted Event Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/models.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.models</span></code> - Table models for object mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/columns.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.columns</span></code> - Column types for object mapping models</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/query.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.query</span></code> - Query and filter model objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/connection.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.connection</span></code> - Connection management for cqlengine</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/management.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.management</span></code> - Schema management for cqlengine</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/cqlengine/usertype.html"><code class="docutils literal notranslate"><span class="pre">cassandra.cqlengine.usertype</span></code> - Model classes for User Defined Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/datastax/graph/index.html"><code class="docutils literal notranslate"><span class="pre">cassandra.datastax.graph</span></code> - Graph Statements, Options, and Row Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/datastax/graph/fluent/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cassandra.datastax.graph.fluent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/datastax/graph/fluent/query.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cassandra.datastax.graph.fluent.query</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api/cassandra/datastax/graph/fluent/predicates.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cassandra.datastax.graph.fluent.predicates</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="upgrading.html">Upgrading</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="execution_profiles.html">Execution Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_paging.html">Paging Large Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="lwt.html">Lightweight Transactions (Compare-and-set)</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_defined_types.html">User Defined Types</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="object_mapper.html">Object Mapper</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/upgrade_guide.html">Upgrade Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/queryset.html">Making Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/batches.html">Batch Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/connections.html">Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/third_party.html">Third party integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="cqlengine/faq.html">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geo_types.html">DSE Geometry Types</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">DataStax Graph Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph_fluent.html">DataStax Graph Fluent API</a></li>
<li class="toctree-l1"><a class="reference internal" href="dates_and_times.html">Working with Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>
            
        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com"></a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/" target="_blank">Docs</a>
                <a class="footer-links__link" href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html" target="_blank">Tutorials</a>
                <a class="footer-links__link" href="https://university.scylladb.com/" target="_blank">University</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/"
                    target="_blank">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/" target="_blank">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <i class="icon-slack"></i>
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <i class="icon-docs-community"></i>
                    </span>
                </a>
            </div>
        </div>

        
        <div class="footer-copyright">
            
                
                    &#169; ScyllaDB 2021 and © DataStax 2013-2017
                
                | <a class="footer-copyright__link" href="https://www.scylladb.com/tos/" target="_blank">Terms of Service</a>
                | <a class="footer-copyright__link" href="https://www.scylladb.com/privacy/" target="_blank">Privacy Policy</a>
                | ScyllaDB, and ScyllaDB Cloud, are registered trademarks of ScyllaDB, Inc.
            
        </div>
    


        <div class="footer-bottom">
            
            <div class="footer-bottom__version">
                Powered by
                <a class="footer-bottom__link" href="http://sphinx-doc.org/">Sphinx 8.2.3</a> &amp;
                <a class="footer-bottom__link" href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.8.8</a>
            </div>
        </div>
    </div>
    
        <biel-button class="footer-ask-ai" project="ddfdo8m94k" 
            header-title="ScyllaDB chatbot (beta)"
            button-position="bottom-right"
            modal-position="bottom-right"
            button-style="dark">
            Ask AI
        </biel-button>
    
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                    style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>